/*
 * This file was generated by the Gradle 'init' task.
 *
 * This project uses @Incubating APIs which are subject to change.
 */
plugins {
  id 'java'
  id 'eclipse'
}

repositories {
  mavenCentral()
  maven { url 'https://repo.spring.io/release' }
}

java { 
  toolchain {
    languageVersion = JavaLanguageVersion.of(17)
  }
}

// bin directory... go away pls
// this problem has been discussed in issue #634 in redhat-developer/vscode-java on github
eclipse.classpath {
  defaultOutputDir = file("build/default")
  file.whenMerged { cp ->
    
    cp.entries.forEach { cpe ->
      if (cpe instanceof org.gradle.plugins.ide.eclipse.model.SourceFolder) {
        cpe.output = cpe.output.replace "bin/", "build/classes/java/"
      }
      if (cpe instanceof org.gradle.plugins.ide.eclipse.model.Output) {
        cpe.path = cpe.path.replace "bin/", "build/"
      }
    }
  }
}

testing {
  suites {
    test {
      useJUnitJupiter(junitVersion)
    }
  }
}
